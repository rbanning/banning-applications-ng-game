<h1>Register</h1>

<div class="content" *ngIf="{ working: working$ | async } as obs">
  <app-working [show]="obs.working === true" theme="accent"></app-working>

  <form class="a-form" 
    (submit)="submit()" 
    [formGroup]="registerForm">
    <div class="field" appFormField>
      <label>Email</label>
      <input placeholder="Email Address" formControlName="email" required/>
      <app-input-error [control]="getCtrl('email')"></app-input-error>
    </div>

    <div class="field" appFormField>
      <label>Password</label>
      <input type="password" placeholder="Password" formControlName="password" required/>
      <app-input-error [control]="getCtrl('password')"></app-input-error>
    </div>

    <div *ngIf="registerError" class="error-message">
      {{ registerError }}
    </div>

    <div class="actions">
      <button type="submit" class="btn btn-primary" [disabled]="!registerForm.valid || (obs.working)">
        <app-button-spinner-wrapper [working]="obs.working === true" [buttonText]="'Register'" style="width: 100%;">
        </app-button-spinner-wrapper>
      </button>
      <button [routerLink]="['/']" class="btn btn-cancel">
        Cancel
      </button>
    </div>
  </form>

</div>
